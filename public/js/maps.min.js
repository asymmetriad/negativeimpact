function here_session(){var a=new H.service.Platform({apikey:"oZzBclPdXKF_feQvvI01Td179ZYGY5WrTnxHLDrMQig"});return a}function start(b){var d=JSON.stringify(b.Response["View"][0]["Result"][0]["Location"]["DisplayPosition"]["Latitude"]);var c=JSON.stringify(b.Response["View"][0]["Result"][0]["Location"]["DisplayPosition"]["Longitude"]);var a=d.concat(",",c);window.startlatlong=a}function stop(b){var d=JSON.stringify(b.Response["View"][0]["Result"][0]["Location"]["DisplayPosition"]["Latitude"]);var c=JSON.stringify(b.Response["View"][0]["Result"][0]["Location"]["DisplayPosition"]["Longitude"]);var a=d.concat(",",c);window.stoplatlong=a}function geocode(a,b,e){var d=a.getGeocodingService(),c={searchtext:b,gen:"9"};d.geocode(c,function(f){e(f)},function(f){})}function calcpubpollrate(b){var a=["busPublic","busTouristic","busIntercity","busExpress"];var e=["railMetro","railMetroRegional","railRegional"];var d=["trainRegional","trainIntercity","trainHighSpeed"];var f=["railLight","monoRail"];var c=["water"];if(a.indexOf(b.type)>=0){return 283.2}else{if(e.indexOf(b.type)>=0){return 167.2}else{if(d.indexOf(b.type)>=0){return 141.7}else{if(f.indexOf(b.type)>=0){return 220.4}else{if(c.indexOf(b.type)>=0){return 863.8}}}}}}function get_bike_route(a,d,b){var c=a.getRoutingService(),e={waypoint0:d,waypoint1:b,mode:"fastest;bicycle",maneuverattributes:"ac,di,le,pt,sh",departure:"now",metricSystem:"imperial"};window.biketranspoll=0;c.calculateRoute(e,function(f){for(var k in f.response["route"][0]["leg"][0]["maneuver"]){if(f.response["route"][0]["leg"][0]["maneuver"][k]["action"]==="ferry"){var h=f.response["route"][0]["leg"][0]["maneuver"][k]["length"];window.biketranspoll=window.biketranspoll+863.8*h*0.00056818181}var j=document.getElementById("bikedirections");var g=document.createElement("DIV");g.innerHTML=f.response["route"][0]["leg"][0]["maneuver"][k]["instruction"];j.appendChild(g)}var i=document.getElementById("bikepoll");i.innerHTML=window.biketranspoll},function(f){})}function get_car_route(a,d,b){var c=a.getRoutingService(),e={waypoint0:d,waypoint1:b,mode:"fastest;car;traffic:enabled",maneuverattributes:"ac,di,le,pt,sh",departure:"now",metricSystem:"imperial"};window.cartranspoll=0;window.ubertranspoll=0;c.calculateRoute(e,function(n){for(var h in n.response["route"][0]["leg"][0]["maneuver"]){var m=n.response["route"][0]["leg"][0]["maneuver"][h]["length"];window.cartranspoll=window.cartranspoll+269.1*m*0.00056818181;window.ubertranspoll=window.ubertranspoll+374.4*m*0.00056818181;var l=document.getElementById("cardirections");var f=document.getElementById("uberdirections");var i=document.createElement("DIV");var j=document.createElement("DIV");i.innerHTML=n.response["route"][0]["leg"][0]["maneuver"][h]["instruction"];j.innerHTML=n.response["route"][0]["leg"][0]["maneuver"][h]["instruction"];l.appendChild(i);f.appendChild(j)}var g=document.getElementById("carpoll");g.innerHTML=window.cartranspoll;var k=document.getElementById("uberpoll");k.innerHTML=window.ubertranspoll},function(f){})}function get_hov_route(a,d,b){var c=a.getRoutingService(),e={waypoint0:d,waypoint1:b,mode:"fastest;carHOV;traffic:enabled",maneuverattributes:"ac,di,le,pt,sh",departure:"now",metricSystem:"imperial"};window.hovtranspoll=0;c.calculateRoute(e,function(f){for(var k in f.response["route"][0]["leg"][0]["maneuver"]){var i=f.response["route"][0]["leg"][0]["maneuver"][k]["length"];window.hovtranspoll=window.hovtranspoll+177.8*i*0.00056818181;var j=document.getElementById("hovdirections");var h=document.createElement("DIV");h.innerHTML=f.response["route"][0]["leg"][0]["maneuver"][k]["instruction"];j.appendChild(h)}var g=document.getElementById("hovpoll");g.innerHTML=window.hovtranspoll},function(f){})}function get_pub_transport_route(a,d,b){var c=a.getRoutingService(),e={waypoint0:d,waypoint1:b,mode:"fastest;publicTransport;traffic:enabled",avoidtransporttypes:"aerial,inclined,privateService",combineChange:"true",maneuverattributes:"ac,di,le,pt,sh",departure:"now",metricSystem:"imperial"};window.pubtranspoll=0;c.calculateRoute(e,function(h){const g=[];for(var i in h.response["route"][0]["publicTransportLine"]){g.push(h.response["route"][0]["publicTransportLine"][i]["id"])}for(var m in h.response["route"][0]["leg"][0]["maneuver"]){if(g.indexOf(h.response["route"][0]["leg"][0]["maneuver"][m]["line"])>=0){var k=h.response["route"][0]["leg"][0]["maneuver"][m]["length"];window.pubtranspoll=window.pubtranspoll+calcpubpollrate(h.response["route"][0]["publicTransportLine"][i])*k*0.00056818181}}var f=document.getElementById("pubpoll");f.innerHTML=window.pubtranspoll;for(var m in h.response["route"][0]["leg"][0]["maneuver"]){var l=document.getElementById("pubdirections");var j=document.createElement("DIV");j.innerHTML=h.response["route"][0]["leg"][0]["maneuver"][m]["instruction"];l.appendChild(j)}},function(f){})}function get_pedestrian_route(a,d,b){var c=a.getRoutingService(),e={waypoint0:d,waypoint1:b,mode:"fastest;pedestrian",maneuverattributes:"ac,di,le,pt,sh",departure:"now",metricSystem:"imperial"};window.pedtranspoll=0;c.calculateRoute(e,function(f){for(var k in f.response["route"][0]["leg"][0]["maneuver"]){if(f.response["route"][0]["leg"][0]["maneuver"][k]["action"]==="ferry"){var i=f.response["route"][0]["leg"][0]["maneuver"][k]["length"];window.pedtranspoll=window.pedtranspoll+863.8*i*0.00056818181}var j=document.getElementById("peddirections");var h=document.createElement("DIV");h.innerHTML=f.response["route"][0]["leg"][0]["maneuver"][k]["instruction"];j.appendChild(h)}var g=document.getElementById("pedpoll");g.innerHTML=window.pedtranspoll},function(f){})}function get_all_routes(b,e,g){var h=get_pub_transport_route(b,e,g);var d=get_pedestrian_route(b,e,g);var a=get_car_route(b,e,g);var c=get_hov_route(b,e,g);var f=get_bike_route(b,e,g)}function readyFn(a){document.getElementById("travelForm").reset()}$(window).on("load",readyFn);$("#travelType").change(function(){opt=$(this).val();if(opt=="ped"){$(".pollwalk").removeClass("d-none");$(".pollbike").addClass("d-none");$(".pollcar").addClass("d-none");$(".polluber").addClass("d-none");$(".pollhov").addClass("d-none");$(".pollpub").addClass("d-none");$("#pollute").val(window.pedtranspoll)}else{if(opt=="bike"){$(".pollwalk").addClass("d-none");$(".pollbike").removeClass("d-none");$(".pollcar").addClass("d-none");$(".polluber").addClass("d-none");$(".pollhov").addClass("d-none");$(".pollpub").addClass("d-none");$("#pollute").val(window.biketranspoll)}else{if(opt=="car"){$(".pollwalk").addClass("d-none");$(".pollbike").addClass("d-none");$(".pollcar").removeClass("d-none");$(".polluber").addClass("d-none");$(".pollhov").addClass("d-none");$(".pollpub").addClass("d-none");$("#pollute").val(window.cartranspoll)}else{if(opt=="uber"){$(".pollwalk").addClass("d-none");$(".pollbike").addClass("d-none");$(".pollcar").addClass("d-none");$(".polluber").removeClass("d-none");$(".pollhov").addClass("d-none");$(".pollpub").addClass("d-none");$("#pollute").val(window.ubertranspoll)}else{if(opt=="hov"){$(".pollwalk").addClass("d-none");$(".pollbike").addClass("d-none");$(".pollcar").addClass("d-none");$(".polluber").addClass("d-none");$(".pollhov").removeClass("d-none");$(".pollpub").addClass("d-none");$("#pollute").val(window.hovtranspoll)}else{if(opt=="pub"){$(".pollwalk").addClass("d-none");$(".pollbike").addClass("d-none");$(".pollcar").addClass("d-none");$(".polluber").addClass("d-none");$(".pollhov").addClass("d-none");$(".pollpub").removeClass("d-none");$("#pollute").val(window.pubtranspoll)}}}}}}});var platform=here_session();var strtaddrss=document.getElementById("startaddr");var stpaddrss=document.getElementById("stopaddr");if(strtaddrss!==undefined&&strtaddrss!==null&&stpaddrss!==undefined&&stpaddrss!==null){startaddress=strtaddrss.innerHTML;stopaddress=stpaddrss.innerHTML;geocode(platform,startaddress,start);geocode(platform,stopaddress,stop);setTimeout(function(){document.getElementById("start").innerHTML=window.startlatlong;document.getElementById("stop").innerHTML=window.stoplatlong;get_all_routes(platform,startlatlong,stoplatlong)},300);var startadder=document.getElementById("startadder");var stopadder=document.getElementById("stopadder");startadder.value=startaddress;stopadder.value=stopaddress};